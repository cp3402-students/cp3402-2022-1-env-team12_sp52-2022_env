tribe.events=tribe.events||{},tribe.events.views=tribe.events.views||{},tribe.events.views.tooltip={},function(b,a){'use strict';var c=b(document);a.config={delayHoverIn:300,delayHoverOut:300},a.selectors={tooltipTrigger:'[data-js~="tribe-events-tooltip"]',tribeEventsTooltipTriggerHoverClass:'.tribe-events-tooltip-trigger--hover',tribeEventsTooltipThemeClass:'.tribe-events-tooltip-theme',tribeEventsTooltipThemeHoverClass:'.tribe-events-tooltip-theme--hover',tribeCommonClass:'.tribe-common',tribeEventsClass:'.tribe-events'},a.handleOriginFocus=function(b){setTimeout(function(){(b.data.target.is(':focus')||b.data.target.hasClass(a.selectors.tribeEventsTooltipTriggerHoverClass.className()))&&b.data.target.tooltipster('open')},a.config.delayHoverIn)},a.handleOriginBlur=function(a){a.data.target.tooltipster('close')},a.handleOriginHoverIn=function(b){b.data.target.addClass(a.selectors.tribeEventsTooltipTriggerHoverClass.className())},a.handleOriginHoverOut=function(b){b.data.target.removeClass(a.selectors.tribeEventsTooltipTriggerHoverClass.className())},a.handleTooltipHoverIn=function(b){b.data.target.addClass(a.selectors.tribeEventsTooltipThemeHoverClass.className())},a.handleTooltipHoverOut=function(b){b.data.target.removeClass(a.selectors.tribeEventsTooltipThemeHoverClass.className())},a.handleInstanceClose=function(c){var d=c.data.origin,e=b(c.tooltip);(d.is(':focus')||d.hasClass(a.selectors.tribeEventsTooltipTriggerHoverClass.className())||e.hasClass(a.selectors.tribeEventsTooltipThemeHoverClass.className()))&&c.stop()},a.handleInstanceClosing=function(c){b(c.tooltip).off('mouseenter touchstart',a.handleTooltipHoverIn).off('mouseleave touchleave',a.handleTooltipHoverOut)},a.onFunctionInit=function(d,e){var c=b(e.origin);c.on('focus',{target:c},a.handleOriginFocus).on('blur',{target:c},a.handleOriginBlur).on('mouseenter touchstart',{target:c},a.handleOriginHoverIn).on('mouseleave touchleave',{target:c},a.handleOriginHoverOut),d.on('close',{origin:c},a.handleInstanceClose).on('closing',{origin:c},a.handleInstanceClosing)},a.onFunctionReady=function(e,d){var c=b(d.tooltip);c.on('mouseenter touchstart',{target:c},a.handleTooltipHoverIn).on('mouseleave touchleave',{target:c},a.handleTooltipHoverOut)},a.deinitTooltips=function(c){c.find(a.selectors.tooltipTrigger).each(function(c,a){b(a).off().tooltipster('instance').off()})},a.initTooltips=function(c){var d=c.data('tribeEventsTooltipTheme');c.find(a.selectors.tooltipTrigger).each(function(e,c){b(c).tooltipster({animationDuration:0,interactive:!0,delay:[a.config.delayHoverIn,a.config.delayHoverOut],delayTouch:[a.config.delayHoverIn,a.config.delayHoverOut],theme:d,functionInit:a.onFunctionInit,functionReady:a.onFunctionReady})})},a.initTheme=function(b){b.trigger('beforeTooltipInitTheme.tribeEvents',[b]);var c=[a.selectors.tribeEventsTooltipThemeClass.className(),a.selectors.tribeCommonClass.className(),a.selectors.tribeEventsClass.className()];b.data('tribeEventsTooltipTheme',c),b.trigger('afterTooltipInitTheme.tribeEvents',[b])},a.deinit=function(c,d,e){var b=c.data.container;a.deinitTooltips(b),b.off('beforeAjaxSuccess.tribeEvents',a.deinit)},a.init=function(c,d,b,e){a.initTheme(b),a.initTooltips(b),b.on('beforeAjaxSuccess.tribeEvents',{container:b},a.deinit)},a.ready=function(){c.on('afterSetup.tribeEvents',tribe.events.views.manager.selectors.container,a.init)},b(a.ready)}(jQuery,tribe.events.views.tooltip)