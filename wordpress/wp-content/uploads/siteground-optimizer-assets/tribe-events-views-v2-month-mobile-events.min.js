tribe.events=tribe.events||{},tribe.events.views=tribe.events.views||{},tribe.events.views.monthMobileEvents={},function(b,a){'use strict';var c=b(document);a.selectors={calendar:'[data-js="tribe-events-month-grid"]',calendarDay:'[data-js="tribe-events-calendar-month-day-cell-mobile"]',calendarDaySelectedClass:'.tribe-events-calendar-month__day-cell--selected',mobileEvents:'[data-js="tribe-events-calendar-month-mobile-events"]',mobileEventsMobileDayShowClass:'.tribe-events-calendar-month-mobile-events__mobile-day--show',mobileEventsDefaultNotices:'.tribe-events-header__messages--mobile:not(.tribe-events-header__messages--day)'},a.closeAllEvents=function(c){c.find(a.selectors.calendarDay).each(function(h,g){var d=b(g),f=d.attr('aria-controls'),e=b('');f&&(e=c.find('#'+f),tribe.events.views.accordion.closeAccordion(d,e)),a.closeMobileEvents(d,e)})},a.handleMobileDayClick=function(b,d){var c=b.find(a.selectors.mobileEventsDefaultNotices),e=b.find(a.selectors.mobileEventsMobileDayShowClass).length>0;d&&!e?c.removeClass('tribe-common-a11y-hidden'):c.addClass('tribe-common-a11y-hidden')},a.openMobileEvents=function(b,c){var d=b.attr('aria-controls');d&&tribe.events.views.accordion.openAccordion(b,c),b.addClass(a.selectors.calendarDaySelectedClass.className()),c.addClass(a.selectors.mobileEventsMobileDayShowClass.className())},a.closeMobileEvents=function(b,c){var d=b.attr('aria-controls');d&&tribe.events.views.accordion.closeAccordion(b,c),b.removeClass(a.selectors.calendarDaySelectedClass.className()),c.removeClass(a.selectors.mobileEventsMobileDayShowClass.className())},a.toggleMobileEvents=function(f){var c=f.data.container,d=b(f.data.target),g=d.attr('aria-controls'),e=b('');g&&(e=c.find('#'+g)),d.hasClass(a.selectors.calendarDaySelectedClass.className())?(a.closeMobileEvents(d,e),a.handleMobileDayClick(c,!0)):(a.closeAllEvents(c),a.handleMobileDayClick(c,!1),a.openMobileEvents(d,e))},a.unbindCalendarEvents=function(c){var d=c.find(a.selectors.calendar);d.find(a.selectors.calendarDay).each(function(d,c){b(c).off('click',a.toggleMobileEvents)})},a.bindCalendarEvents=function(c){var d=c.find(a.selectors.calendar);d.find(a.selectors.calendarDay).each(function(f,e){b(e).on('click',{target:e,container:c,calendar:d},a.toggleMobileEvents)})},a.initState=function(b){var c=b.find(a.selectors.mobileEvents),d=b.data('tribeEventsState'),e=d.isMobile,f={desktopInitialized:!e};c.data('tribeEventsState',f)},a.handleResize=function(e){var c=e.data.container,d=c.find(a.selectors.mobileEvents),b=d.data('tribeEventsState'),f=c.data('tribeEventsState'),g=f.isMobile;g?(a.handleMobileDayClick(c,!0),b.desktopInitialized&&(b.desktopInitialized=!1)):b.desktopInitialized||(a.closeAllEvents(c),b.desktopInitialized=!0),d.data('tribeEventsState',b)},a.deinit=function(c,d,e){var b=c.data.container;a.unbindCalendarEvents(b),b.off('resize.tribeEvents',a.handleResize).off('beforeAjaxSuccess.tribeEvents',a.deinit)},a.init=function(d,e,b,f){var c=b.find(a.selectors.mobileEvents);if(!c.length)return;a.handleMobileDayClick(b,!0),a.initState(b),a.bindCalendarEvents(b),b.on('resize.tribeEvents',{container:b},a.handleResize).on('beforeAjaxSuccess.tribeEvents',{container:b},a.deinit)},a.ready=function(){c.on('afterSetup.tribeEvents',tribe.events.views.manager.selectors.container,a.init)},b(a.ready)}(jQuery,tribe.events.views.monthMobileEvents)