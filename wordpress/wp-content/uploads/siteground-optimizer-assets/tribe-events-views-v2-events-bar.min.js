tribe.events=tribe.events||{},tribe.events.views=tribe.events.views||{},tribe.events.views.eventsBar={},function(b,a){'use strict';var c=b(document);a.selectors={eventsBar:'[data-js="tribe-events-events-bar"]',searchButton:'[data-js="tribe-events-search-button"]',searchButtonActiveClass:'.tribe-events-c-events-bar__search-button--active',searchContainer:'[data-js="tribe-events-search-container"]'},a.keyCode={END:35,HOME:36,LEFT:37,RIGHT:39},a.deinitAccordion=function(a,b){tribe.events.views.accordion.deinitAccordion(0,a),tribe.events.views.accordion.deinitAccordionA11yAttrs(a,b),b.css('display','')},a.initAccordion=function(b,a,c){tribe.events.views.accordion.initAccordion(b)(0,a),tribe.events.views.accordion.initAccordionA11yAttrs(a,c)},a.handleSearchButtonClick=function(b){b.data.target.toggleClass(a.selectors.searchButtonActiveClass.className())},a.deinitSearchAccordion=function(c){var b=c.find(a.selectors.searchButton),d;b.removeClass(a.selectors.searchButtonActiveClass.className()),d=c.find(a.selectors.searchContainer),a.deinitAccordion(b,d),b.off('click',a.handleSearchButtonClick)},a.initSearchAccordion=function(b){var c=b.find(a.selectors.searchButton),d=b.find(a.selectors.searchContainer);a.initAccordion(b,c,d),c.on('click',{target:c},a.handleSearchButtonClick)},a.initState=function(b){var c=b.find(a.selectors.eventsBar),d={mobileInitialized:!1,desktopInitialized:!1};c.data('tribeEventsState',d)},a.deinitEventsBar=function(b){a.deinitSearchAccordion(b)},a.initEventsBar=function(c){var d=c.find(a.selectors.eventsBar),b,f,e;d.length&&(b=d.data('tribeEventsState'),f=c.data('tribeEventsState'),e=f.isMobile,e&&!b.mobileInitialized?(a.initSearchAccordion(c),b.desktopInitialized=!1,b.mobileInitialized=!0,d.data('tribeEventsState',b)):!e&&!b.desktopInitialized&&(a.deinitSearchAccordion(c),b.mobileInitialized=!1,b.desktopInitialized=!0,d.data('tribeEventsState',b)))},a.handleResize=function(b){a.initEventsBar(b.data.container)},a.handleClick=function(f){var d=b(f.target),g=Boolean(d.closest(a.selectors.searchButton).length),h=Boolean(d.closest(a.selectors.searchContainer).length),i,e,c,j;g||h||(i=f.data.container,e=i.find(a.selectors.eventsBar),c=e.find(a.selectors.searchButton),c.hasClass(a.selectors.searchButtonActiveClass.className())&&(j=e.find(a.selectors.searchContainer),c.removeClass(a.selectors.searchButtonActiveClass.className()),tribe.events.views.accordion.closeAccordion(c,j)))},a.unbindEvents=function(b){b.off('resize.tribeEvents',a.handleResize),c.off('click',a.handleClick)},a.bindEvents=function(b){b.on('resize.tribeEvents',{container:b},a.handleResize),c.on('click',{container:b},a.handleClick)},a.deinit=function(c,d,e){var b=c.data.container;a.deinitEventsBar(b),a.unbindEvents(b),b.off('beforeAjaxSuccess.tribeEvents',a.deinit)},a.init=function(d,e,b,f){var c=b.find(a.selectors.eventsBar);if(!c.length)return;a.initState(b),a.initEventsBar(b),a.bindEvents(b),b.on('beforeAjaxSuccess.tribeEvents',{container:b},a.deinit)},a.ready=function(){c.on('afterSetup.tribeEvents',tribe.events.views.manager.selectors.container,a.init)},b(a.ready)}(jQuery,tribe.events.views.eventsBar)